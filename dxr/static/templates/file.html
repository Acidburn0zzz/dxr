{% extends "layout.html" %}
{% from "partial/switch_tree.html" import tree_menu %}
{% from "partial/no_results.html" import no_results %}

{% block title %}{{ name }} - DXR{% endblock %}

{% block head %}
  <link rel="shortcut icon" href="{{ www_root }}/static/icons/mimetypes/{{ icon }}.png"/>
{% endblock %}

{% block site_css %}
  {{ super() }}
  <link href="{{ www_root }}/static/css/tree-selector.css" rel="stylesheet" type="text/css" media="screen" />
{% endblock %}

{% block content %}
  <div class="breadcrumbs">
    {%- for path, name in paths_and_names -%}
      {%- if not loop.first or loop.last -%}
        <span class="path-separator">/</span><a href="{{ www_root }}{{ path }}">{{ name }}</a>
      {%- else -%}
        <a href="{{ www_root }}{{ path }}">{{ name }}</a>
      {%- endif -%}
    {%- endfor -%}
  </div>

  {{ tree_menu(tree_tuples, tree) }}
{% endblock %}

{% block site_js %}
  {{ super() }}
  <script src="{{ www_root }}/static/js/panel.js"></script>
  <script src="{{ www_root }}/static/js/tree-selector.js"></script>
  <script src="{{ www_root }}/static/js/code-highlighter.js"></script>
{% endblock %}
